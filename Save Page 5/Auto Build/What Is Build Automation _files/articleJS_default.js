var PingsRemains=0;var PostersTracker={setTimezone:function(){var c=new Date();var a="; expires=Tue, 01 Jan 2100 21:00:00 UTC;";document.cookie="time_zone_offset="+escape(c.getTimezoneOffset())+a;var d=new Date();var b=new Date();d.setDate(1);d.setMonth(1);b.setDate(1);b.setMonth(7);if(parseInt(d.getTimezoneOffset())==parseInt(b.getTimezoneOffset())){document.cookie="time_zone_dst=0"+a}else{var e=parseInt(d.getTimezoneOffset())-parseInt(b.getTimezoneOffset());if((e>0&&parseInt(d.getTimezoneOffset())==parseInt(c.getTimezoneOffset()))||(e<0&&parseInt(b.getTimezoneOffset())==parseInt(c.getTimezoneOffset()))){document.cookie="time_zone_dst=0"+a}else{document.cookie="time_zone_dst=1"+a}}}};function send15SecPing(a){if(PingsRemains){$.post(a,{},function(b){},"json");PingsRemains--}}function send60SecPing(a){if(PingsRemains){$.post(a,{timeout:60},function(b){},"json");PingsRemains--;PostersTracker.setTimezone()}}function set10SecTimer(a){PingsRemains=2;setTimeout('send15SecPing("'+a+'");',15000);setTimeout('send60SecPing("'+a+'");',60000)}var ControlOnThisPage=Class.create({},{init:function(){$("a.onThisPageLink").click(this.getHandler(this,"clickLocalLinkHandler"))},clickLocalLinkHandler:function(a,b){elementClick=$(b).attr("href");destination=$(elementClick).offset().top;if($.browser.safari){$("body").animate({scrollTop:destination},500,"linear")}else{$("html").animate({scrollTop:destination},500,"linear")}return false}},[Control]);var ControlDiscussionPostBox=Class.create({},{init:function(){this.declareEvent("change");if(this._serverData.autosizeTextarea){$("#"+this._serverData._ids.contentTA).autosize({append:"\n"})}},load:function(){$("#"+this._serverData._ids.contentTA).realchange(this.getHandler("onPostBoxChange"));$("#"+this._serverData._ids.createPost).on("click",this.getHandler("checkDiscussionPost"));this.lightboxForm=$("input.lightboxForm");this.lightboxForm.lightBox({imageBtnClose:"res/common/img/lightbox/lightbox-btn-close.gif",imageLoading:"res/common/img/lightbox/lightbox-ico-loading.gif",overlayBgColor:"#A0A0A0",overlayOpacity:0.8,type:"form",openCallback:this.getHandler("openLightboxCallback"),closeCallback:this.getHandler("closeLightboxCallback")})},openLightboxCallback:function(){var a={};a[this._serverData._actions.getCaptchaId]=true;$.post(this._serverData.url,a,this.getHandler("getCaptchaImage",a),"json");$("#"+this._serverData._ids.createPost).off("click");$("#"+this._serverData._ids.createPost).on("click",this.getHandler("checkDiscussionPost"));return true},getCaptchaImage:function(b){var a=this.lightboxForm.attr("href");this.captchaID=b;$(a).find("img").attr("src","/captcha.php?id="+b+"&cl=e9e9e9&"+new Date().getTime());$(a).find("input[type|=hidden]").val(b);$("#serverAnswerBlock").hide();$("#jquery-lightbox").css({top:"10px"})},closeLightboxCallback:function(){if(this.creatNewPostState){$("#"+this._serverData._ids.postForm).submit()}},checkDiscussionPost:function(){var a={};a[this._serverData._actions.checkDiscussionPost]=true;a[this._serverData.captchaId]=this.captchaID;a[this._serverData.captchaText]=$("[name="+this._serverData.captchaText+"]").val();a[this._serverData.dPostContent]=$("#"+this._serverData._ids.contentTA).val();this.creatNewPostState=false;$.post(this._serverData.url,a,this.getHandler("checkDiscussionPostCallback",a),"json")},checkDiscussionPostCallback:function(b,a){if(a==="success"){if(!b.errorState){this.creatNewPostState=true}if(b.captchaIsNeed){$("#captchaBlock").hide();$("#serverAnswerBlock").show();$("#serverAnswerBlock").find(".mainTitle").html(b.head);$("#serverAnswerBlock").find(".wrapBody").html(b.body)}else{this.closeLightboxCallback()}}},onPostBoxChange:function(b,a){this.dispatchEvent("change",[$(a).val()])},onCreatePostClick:function(b,a){this.checkDiscussionPost()}},[Control]);(function(b){b.event.special.realchange={setup:function(){var c=b(this).prop("tagName");var d=b(this).prop("type");if(!(/textarea/i.test(c)||(/input/i.test(c)&&/text/i.test(d)))){return false}a.init(b(this))},teardown:function(){a.finalize(b(this))}};b.fn.extend({realchange:function(c){return c?this.bind("realchange",c):this.trigger("realchange")},unrealchange:function(c){return this.unbind("realchange",c)}});var a={data:[],createDataObject:function(c){c.data("realchangedataindex",a.data.push({})-1);return a.data[a.data.length-1]},getDataObject:function(c){return a.data[c.data("realchangedataindex")]},deleteDataObject:function(c){delete a.data[c.data("realchangedataindex")]},change:function(c){c=b.event.fix(c||window.event);a.checkChange(b(this),c)},raiseChange:function(f,e,c,d){e=e||b.event.fix({});b.extend(e,{type:"realchange",target:f[0],info:{_old:c,_new:d}});return b.event.dispatch.apply(f[0],[e])},checkChange:function(f,d){var e=a.getDataObject(f);var c=e._value;var g=f.val();if(g!==c){a.raiseChange(f,d,c,g);e._value=g}},initInterval:function(e){var c=function(){a.intervalTick(e)};var d=a.getDataObject(e);d.intervalId=setInterval(c,500)},clearInterval:function(d){var c=a.getDataObject(d);clearInterval(c.intervalId)},intervalTick:function(c){a.checkChange(c)},init:function(c){a.innerInit(c)},finalize:function(c){a.innerFinalize(c)},innerInit:function(c){var e=a.createDataObject(c);e._value=c.prop("value");c.bind("focus",a.change);c.bind("blur",a.change);c.bind("keyup",a.change);c.bind("keydown",a.change);if(b.browser.msie){c[0].attachEvent("paste",a.change)}if(b.browser.safari){c[0].addEventListener("paste",a.change,false)}if(b.browser.mozilla){c[0].addEventListener("input",a.change,false)}if(b.browser.opera){c[0].addEventListener("change",a.change,false)}},innerFinalize:function(c){a.deleteDataObject(c);c.unbind("focus");c.unbind("blur");c.unbind("keyup");c.unbind("keydown");if(b.browser.msie){c[0].detachEvent("paste",a.change)}if(b.browser.safari){c[0].removeEventListener("paste",a.change,false)}if(b.browser.mozilla){c[0].removeEventListener("input",a.change,false)}if(b.browser.opera){c[0].removeEventListener("change",a.change,false)}}}})(jQuery);$(document).ready(function(){$(".dropdown dt a").click(function(){$(".dropdown dd ul").toggle()});$(".dropdown dd ul li a").click(function(){var a=$(this).html();$(".dropdown dt a span").html(a);$(".dropdown dd ul").hide()});$(document).bind("click",function(b){var a=$(b.target);if(!a.parents().hasClass("dropdown")){$(".dropdown dd ul").hide()}})});var ControlCustomSearch=Class.create({},{load:function(){var a=this._serverData.tpl;var c=this._serverData.crossDomain;if(a=="sphinx3"){$("#cse-search-box  input[type|=submit]").click(this.getHandler("search"))}if(!c){if(!$(".suggestDiv").length){new SuggestBox("sHead")}}var b=document.createElement("script");b.type="text/javascript";b.src="http://www.google.com/cse/brand?form=cse-search-box&lang=en";$("#cse-search-box").after(b)},search:function(b){var a=$("#cse-search-box  input[type|=text]")[0].value;a=a.replace(/(\s+)/g,"-");location="//s."+this._serverData.wgDomain+"/s/"+a;return false}},[Control]);(function(j,p,s){var r="hashchange",l=document,o,n=j.event.special,k=l.documentMode,q="on"+r in p&&(k===s||k>7);function t(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}j.fn[r]=function(a){return a?this.bind(r,a):this.trigger(r)};j.fn[r].delay=50;n[r]=j.extend(n[r],{setup:function(){if(q){return false}j(o.start)},teardown:function(){if(q){return false}j(o.stop)}});o=(function(){var d={},e,a=t(),c=function(h){return h},b=c,f=c;d.start=function(){e||g()};d.stop=function(){e&&clearTimeout(e);e=s};function g(){var h=t(),u=f(a);if(h!==a){b(a=h,u);j(p).trigger(r)}else{if(u!==a){location.href=location.href.replace(/#.*/,"")+u}}e=setTimeout(g,j.fn[r].delay)}j.browser.msie&&!q&&(function(){var u,h;d.start=function(){if(!u){h=j.fn[r].src;h=h&&h+t();u=j('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){h||b(t());g()}).attr("src",h||"javascript:0").insertAfter("body")[0].contentWindow;l.onpropertychange=function(){try{if(event.propertyName==="title"){u.document.title=l.title}}catch(v){}}}};d.stop=c;f=function(){return t(u.location.href)};b=function(w,z){var x=u.document,y=j.fn[r].domain;if(w!==z){x.title=l.title;x.open();y&&x.write('<script>document.domain="'+y+'"<\/script>');x.close();u.location.hash=w}}})();return d})()})(jQuery,this);(function(a){a.fn.wisegeekquiz=function(f,t){f=jQuery.extend({},f);var k=this;var l;var o=f.data.length;var p;var c=[];var e=2000;k.on("answer",s);k.append("<div class='quizContainer'><span class='title'>"+f.title+"</span><div class='questionWindow'><span class='title'>Question</span><span class='question'></span><div class='buttons'><input type='button' name='0'><input type='button' name='1'><input type='button' name='2'></div></div></div>");a(".quizContainer").css({backgroundImage:"url('"+f.data[0].background+"')"});function b(u){this.data=u;this.qW=a("div.questionWindow");this.qA=""}b.prototype.showQuestion=function(){this.qW.find("span.question").html(this.data.question);this.qW.find("span.title").html("Question "+(l+1)+" of &nbsp;"+o);for(var q=0;q<3;q++){this.qW.find("input[name='"+q+"']")[0].value=this.data.option[q]}this.qW.fadeIn();this.qW.on("click","input",function(u){k.trigger({type:"answer",answer:+u.currentTarget.name})})};b.prototype.hideQuestion=function(){this.qW.off("click","input");this.qW.fadeOut()};b.prototype.showAnswer=function(){a("div.quizContainer").append("<div class='answerWindow active' id='aquizid"+this.data.id+"'><span class='title'>Question</span><div class='body'><span class='status'></span><span class='answer'></span></div></div>");this.qA=a("#aquizid"+this.data.id);this.qA.find("span.answer").html(this.data.answer_text);this.qA.find("span.title").html("Question "+(l+1)+" of &nbsp;"+o);if(this.data.answer==this.data.user_answer){this.qA.find("span.status").html("CORRECT: ").addClass("correct")}else{this.qA.find("span.status").html("INCORRECT: ").addClass("incorrect")}this.qA.fadeIn()};b.prototype.inactivateAnswer=function(){this.qA.css({backgroundColor:"#e5e5e5",zIndex:1});this.qA.animate({width:400,height:125,top:"25%",left:"50%",marginLeft:-200,marginTop:0},800,function(){})};b.prototype.hideAnswer=function(){this.qA.fadeOut()};function n(){l=0;for(var q=0;q<f.data.length;q++){c.push(new b(f.data[q]))}c[l].showQuestion()}function s(v){var u=f.data[l].answer;var q=f.data[l].option[u];var w=f.data[l].option[v.answer];f.data[l].user_answer=v.answer;c[l].hideQuestion();c[l].showAnswer();setTimeout(function(){j()},e)}function j(){if(++l==f.data.length){h();return}c[l-1].inactivateAnswer();if(l>=2){c[l-2].hideAnswer()}c[l].showQuestion()}function h(){g();var q=[];q.push(f.data);t.apply(this,q)}function r(){var v=0;var u=f.data;for(var q=0;q<u.length;q++){if(u[q].answer==u[q].user_answer){v++}}return v}function g(){a("div.quizContainer").append("<div style='display:block;' class='questionWindow'><span class='title'>You're Done!</span><div class='body'><input type='button' name='finish' value='View Results'></div></div>");c[l-1].inactivateAnswer();c[l-2].hideAnswer();a("div.quizContainer input[name='finish']").click(function(){d()})}function d(){var u=r();var q=f.data.length;c[l-1].hideAnswer();a("div.quizContainer").append("<div style='display:block;' class='questionWindow'><span class='title'>Results</span><div class='body'><span class='result'>You got "+u+" of "+q+" correct</span></div></div>")}n()}})(jQuery);(function(a){a.fn.lightBoxId=function(){var d=0;return function(){return(d=d+1)}}();a.fn.invokedlightBoxId=function(){var d=0;return function(e){if(typeof e!=="undefined"){d=e}return d}}();a.fn.lightBox=function(f){f=jQuery.extend({type:"images",overlayBgColor:"#A0A0A0",overlayOpacity:0.8,fixedNavigation:false,imageLoading:"res/common/img/lightbox/lightbox-ico-loading.gif",imageBtnPrevActive:"res/common/img/lightbox/back-blue.png",imageBtnNextActive:"res/common/img/lightbox/next-blue.png",imageBtnPrevInactive:"res/common/img/lightbox/back-grey.png",imageBtnNextInactive:"res/common/img/lightbox/next-grey.png",imageBtnClose:"res/common/img/lightbox/lightbox-btn-close.gif",imageBlank:"res/common/img/lightbox/lightbox-blank.gif",imageExtClose:"res/common/img/lightbox/closebutton.png",showButtonsDelay:0,containerBorderSize:10,containerResizeSpeed:400,txtImage:"Image",txtOf:"of",keyToPrev:"p",keyToNext:"n",useMobileTemplate:false,closeByFreeSpaceClick:true,navButtonsTopPosition:"top",usePrevNavigation:true,showLoading:true,refreshPage:false,includeSourceLink:false,sourceText:"source",reloading:false,maxWidth:1000,maxHeight:800,maintainLbUrl:false,withoutHistory:false,openCallback:function(){return true},closeCallback:function(){},elem:"a.lightbox",indirectClick:false,effects:false,slideshow:false,selectorEvent:"click",kbPercent:15,kbDuration:6000,slideDuration:{},fixedViewport:false,header:"",hideImageData:false,hideImageDataPageNumber:false,enableScroll:false,imageArray:[],activeImage:0,imagesHash:[],hash:"",recentHash:"",isStopped:false,embedded:false,survey:false,runImmediate:false,runOnEvent:false,runOnMouseout:false,runOnHash:false,runImmediateOnHash:false,lbId:a.fn.lightBoxId(),doNotProccedHashChange:false,canvas:null,context:null,pauseSlideshow:false,mousePos:null,imagesViewCount:0,imagesQty:null,objSource:this,changeCallback:new Function()},f);var e=this;var g=new b(f);var d=new c(f,e,g);this.nextImage=g.set_image_to_view;return this};function c(F,j,n){var r=(F.selectorEvent=="click"&&!F.indirectClick)?j:a(F.elem);var s;var d=false;var G;F.imagesQty=r.length;q();function q(){if(F.embedded){a(window).bind("onRunModalLightbox",function(){e()});t();z();J();if(F.runOnEvent){}if(F.runOnHash){a(window).hashchange(H)}if(F.runImmediateOnHash){if(G=I()){l(G,r);d=true;return this}}if(F.runImmediate){l(r[0],r)}return j}if(!F.embedded){if(F.type=="images"){z();t();h();J();if(F.runOnEvent){j.unbind(F.selectorEvent).bind(F.selectorEvent,w)}if(F.runOnMouseout){j.unbind(F.selectorEvent).bind(F.selectorEvent,u)}if(F.runOnHash){a(window).hashchange(y)}if(F.runImmediateOnHash){if(G=I()){E(G,r);d=true;return j}}return j}else{return j.unbind(F.selectorEvent).bind(F.selectorEvent,k)}}return j}function w(M){if(a("#jquery-lightbox").length){if(a("#jquery-lightbox").hasClass("embedded")){a(window).triggerHandler("onRunModalLightbox")}else{return false}}var L=[M];if(!F.openCallback.apply(this,L)){return false}if(F.indirectClick){var N=a(F.elem)[0]}else{N=this}E(N,r);return false}function u(M){if(a("#jquery-lightbox").length){return false}var L=[M];if(!F.openCallback.apply(this,L)){return false}if(F.indirectClick){var N=a(F.elem)[0]}else{N=this}E(N,r);return false}function H(){var M=a.fn.invokedlightBoxId();if(F.lbId==M){if(F.doNotProccedHashChange){F.doNotProccedHashChange=false;return false}}else{if(M!=-1){return false}else{if(location.hash!=F.hash){return false}}}if(F.refreshPage){document.location.reload();F.reloading=true;return}if(F.selectorEvent=="click"){for(var L=0;L<F.imagesHash.length;L++){if(location.hash==F.imagesHash[L]){l(r[L],r);return false}}}if(location.hash!=""&&location.hash!="#"){if(location.hash==F.hash){l();return false}}else{if(location.hash==F.hash){return false}else{e(true);return false}}return false}function y(L){var N=a.fn.invokedlightBoxId();if(F.lbId==N){if(F.doNotProccedHashChange){F.doNotProccedHashChange=false;return false}}else{if(N!=-1){return false}else{if(location.hash!=F.hash){return false}}}if(F.selectorEvent=="click"){for(var M=0;M<F.imagesHash.length;M++){if(location.hash==F.imagesHash[M]){E(r[M],r);return false}}}if(location.hash!=""&&location.hash!="#"){if(location.hash==F.hash){E(r[0],r);return false}}else{if(location.hash==F.hash){return false}else{e(true);return false}}return false}function E(N,M){if(a("#jquery-lightbox").length){if(a("#jquery-lightbox").hasClass("embedded")){a(window).triggerHandler("onRunModalLightbox");a("embed, object, select").css({visibility:"hidden"});n.set_interface()}else{if(F.selectorEvent!="click"){return false}}}else{F.pauseSlideshow=false;a("embed, object, select").css({visibility:"hidden"});n.set_interface()}F.isStopped=false;F.imageArray.length=0;F.activeImage=0;if(M.length==1){F.imageArray.push(new Array(N.getAttribute("href"),N.getAttribute("title"),N.getAttribute("data-source")))}else{for(var L=0;L<M.length;L++){F.imageArray.push(new Array(M[L].getAttribute("href"),M[L].getAttribute("title"),M[L].getAttribute("data-source")))}}while(F.imageArray[F.activeImage][0]!=N.getAttribute("href")){F.activeImage++}C();p();if(F.effects){K()}o();n.set_image_to_view()}function l(P,O,M){if(a("#jquery-lightbox").length){if(F.selectorEvent!="click"){return false}}else{F.pauseSlideshow=false}F.imageArray.length=0;F.activeImage=0;if(O.length==1){F.imageArray.push(new Array(P.getAttribute("href"),P.getAttribute("title"),P.getAttribute("data-source")))}else{for(var N=0;N<O.length;N++){F.imageArray.push(new Array(O[N].getAttribute("href"),O[N].getAttribute("title"),O[N].getAttribute("data-source")))}}while(F.imageArray[F.activeImage][0]!=P.getAttribute("href")){F.activeImage++}a("embed, object, select").css({visibility:"hidden"});n.set_interface_embedded();var L=[M];if(!F.openCallback.apply(this,L)){return false}if(F.effects){K()}F.isStopped=false;C();n.set_image_to_view()}function k(M){if(a("#jquery-lightbox").length){if(a("#jquery-lightbox").hasClass("embedded")){a(window).triggerHandler("onRunModalLightbox")}else{return false}}objClicked=this;var L=[M];if(!F.openCallback.apply(this,L)){return false}var P=objClicked.getAttribute("href");var O=a(P);s=O.clone();O.before('<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="btnClose"><a href="#" id="lightbox-secNav-btnClose"><img src="'+F.imageBtnClose+'"></a></div><div id="lightbox-container-image"><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"><img src="'+F.imageLoading+'"></a></div></div></div></div>');var N=O.appendTo("#lightbox-container-image").find("img");N.load(function(){a("#lightbox-loading").hide();O.show()});a.fn.invokedlightBoxId(F.lbId);p();C();n.show_form()}function e(L){if(!a("#jquery-lightbox").length){return false}if(F.lbId!=a.fn.invokedlightBoxId()){return false}a.fn.invokedlightBoxId(-1);F.isStopped=true;A();F.closeCallback.apply(this);f();a("#jquery-lightbox").before(s);a("#jquery-lightbox").remove();a("#jquery-overlay").fadeOut(function(){a("#jquery-overlay").remove()});a("#contain-402").remove();a("embed, object, select").css({visibility:"visible"});if(!L){if(F.maintainLbUrl&&!F.withoutHistory){F.recentHash=window.location.hash;F.doNotProccedHashChange=true;window.location.hash=""}if(F.maintainLbUrl&&F.withoutHistory){if(F.selectorEvent=="click"){F.doNotProccedHashChange=true;window.location.hash="";d=false}else{if(!!d){F.recentHash=window.location.hash;window.location.hash=""}else{F.doNotProccedHashChange=true;window.history.go(-1)}d=false}}}}function C(){if(F.closeByFreeSpaceClick){a("#jquery-overlay,#jquery-lightbox").click(function(U){if(U.target==this){e()}})}a("#lightbox-loading-link,#lightbox-extNav-btnClose, #lightbox-secNav-btnClose").click(function(){e();return false});if(F.imageArray.length<=1){x();return}a("#lightbox-nav").hide();var S=a("#lightbox-nav-btnPrev,#lightbox-bottomNav-btnPrev"),M=a("#lightbox-nav-btnNext,#lightbox-bottomNav-btnNext"),Q=a("#lightbox-nav-btnPrev-div"),N=a("#lightbox-nav-btnNext-div"),T=Math.round(F.containerBorderSize*2);if(!F.slideshow){var R="url("+F.imageBtnPrevActive+") left "+F.navButtonsTopPosition+" no-repeat",O="url("+F.imageBtnPrevInactive+") left "+F.navButtonsTopPosition+" no-repeat",P="url("+F.imageBtnNextActive+") right "+F.navButtonsTopPosition+" no-repeat",L="url("+F.imageBtnNextInactive+") right "+F.navButtonsTopPosition+" no-repeat"}Q.css({"margin-top":T,"margin-left":T,background:"transparent url("+F.imageBlank+") no-repeat"});N.css({"margin-top":T,"margin-right":T,background:"transparent url("+F.imageBlank+") no-repeat"});if(F.fixedNavigation){Q.css({background:O});S.unbind().bind("click",function(U){F.activeImage!=0?F.activeImage--:(F.activeImage=F.imageArray.length-1);n.set_image_to_view();F.mousePos=v(U);return false}).hover(function(){Q.css({background:R,cursor:"pointer"})},function(){Q.css({background:O,cursor:"default"})})}else{S.unbind().hover(function(){Q.css({background:R,cursor:"pointer"})},function(){Q.css({background:"transparent url("+F.imageBlank+") no-repeat",cursor:"default"})}).show().bind("click",function(){F.activeImage!=0?F.activeImage--:(F.activeImage=F.imageArray.length-1);n.set_image_to_view();return false})}if(F.fixedNavigation){N.css({background:L});M.unbind().bind("click",function(U){F.activeImage!=(F.imageArray.length-1)?F.activeImage++:F.activeImage=0;n.set_image_to_view();F.mousePos=v(U);return false}).hover(function(){N.css({background:P,cursor:"pointer"})},function(){N.css({background:L,cursor:"default"})})}else{M.unbind().hover(function(){N.css({background:P,cursor:"pointer"})},function(){N.css({background:"transparent url("+F.imageBlank+") no-repeat",cursor:"default"})}).show().bind("click",function(){F.activeImage!=(F.imageArray.length-1)?F.activeImage++:F.activeImage=0;n.set_image_to_view();return false})}x()}function g(L){if(L==null){keycode=event.keyCode;escapeKey=27}else{keycode=L.keyCode;escapeKey=L.DOM_VK_ESCAPE||27}key=String.fromCharCode(keycode).toLowerCase();if(keycode==escapeKey){e()}if(!F.enableScroll){var M=new Array(33,34,38,40);if(a.inArray(keycode,M)>-1){L.preventDefault();return false}}if(!F.slideshow&&F.type!="form"){if((key==F.keyToPrev)||(keycode==37)){F.activeImage!=0?F.activeImage--:(F.activeImage=F.imageArray.length-1);n.set_image_to_view()}if((key==F.keyToNext)||(keycode==39)){F.activeImage!=(F.imageArray.length-1)?F.activeImage++:F.activeImage=0;n.set_image_to_view()}}}function p(){if(!F.enableScroll){a("body").css({overflow:"hidden"});n.resizeContainer()}}function A(){if(!F.enableScroll){a("body").css({overflow:"auto"})}}function t(){F.mousePos={x:0,y:0};a(document).bind("mousemove",function(L){F.mousePos=v(L)})}function x(){if(F.embedded){return}a(document).keydown(function(L){g(L)})}function f(){a(document).unbind()}function h(){return;if(typeof _gaq=="undefined"){return}if(F.imagesQty>0){var L="page has "+F.imagesQty;L+=(F.imagesQty==1)?" image":" images";_gaq.push(["_trackEvent","Pageview with images","View",L])}}function o(){if(typeof _gaq=="undefined"){return}if(F.imagesQty>0){var L="page has "+F.imagesQty;L+=(F.imagesQty==1)?" image":" images";_gaq.push(["_trackEvent","Lightbox","spawned",L])}}function D(){return;if(typeof _gaq=="undefined"){return}if(++F.imagesViewCount<=2*F.imagesQty){var L="user viewed "+F.imagesViewCount+"/"+F.imagesQty;_gaq.push(["_trackEvent","Image","View",L])}}function B(){return;if(typeof _gaq=="undefined"){return}if(++F.imagesViewCount<=2*F.imagesQty){var L="user viewed "+F.imagesViewCount+"/"+F.imagesQty;_gaq.push(["_trackEvent","Image","lightbox spawned",L])}}function z(){if(!window.requestAnimationFrame){window.requestAnimationFrame=(function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(M,L){window.setTimeout(M,1000/60)}})()}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=(function(){return window.cancelAnimationFrame||window.mozCancelAnimationFrame||function(L){window.clearTimeout(L)}})()}}function J(){var N=/\/?([a-zA-Z0-9_ \-\+\%]+).(?:jpg|jpeg|gif|png)$/;if(F.maintainLbUrl){if(F.selectorEvent=="click"&&!F.hash){F.hash="#lbimages";F.imagesHash.length=0;for(var M=0;M<r.length;M++){var L=r[M].getAttribute("href");var O="#"+L.match(N)[1];F.hash=O;F.imagesHash.push(O)}}else{if(!F.hash){F.hash="#lbss"}}}}function I(){if(F.selectorEvent=="click"){for(var L=0;L<F.imagesHash.length;L++){if(location.hash==F.imagesHash[L]){return r[L]}}}if(window.location.hash==F.hash){return r[0]}return false}function v(L){var M={};M.y=M.x=0;if(!L){var L=window.event}if(L.pageX||L.pageY){M.x=L.pageX;M.y=L.pageY}else{if(L.clientX||L.clientY){M.x=L.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;M.y=L.clientY+document.body.scrollTop+document.documentElement.scrollTop}}return M}function K(){F.canvas=document.getElementById("lbviewport");if(F.canvas){F.canvas.parentNode.removeChild(F.canvas)}a("#lightbox-container-image").append('<canvas id="lbviewport"></canvas>');F.canvas=document.getElementById("lbviewport");if(typeof G_vmlCanvasManager!="undefined"){G_vmlCanvasManager.initElement(F.canvas)}if(F.canvas.getContext){F.context=F.canvas.getContext("2d")}}}function b(y){var g={};g.currMovement=-1;if(y.fixedViewport){g.movements=[{type:"zoomin",dir:"down"},{type:"zoomin",dir:"up"},{type:"zoomin",dir:"right"},{type:"zoomin",dir:"left"},{type:"zoomin",dir:"center"},{type:"zoomout",dir:"down"},{type:"zoomout",dir:"up"},{type:"zoomout",dir:"right"},{type:"zoomout",dir:"left"},{type:"zoomout",dir:"center"}]}else{g.movements=[{type:"pan",dir:"down"},{type:"pan",dir:"up"},{type:"pan",dir:"right"},{type:"pan",dir:"left"},{type:"zoomin",dir:"down"},{type:"zoomin",dir:"up"},{type:"zoomin",dir:"right"},{type:"zoomin",dir:"left"},{type:"zoomin",dir:"center"},{type:"zoomout",dir:"down"},{type:"zoomout",dir:"up"},{type:"zoomout",dir:"right"},{type:"zoomout",dir:"left"},{type:"zoomout",dir:"center"}]}function s(){if(y.changeCallback.call(window,y.activeImage)===false){return}a.fn.invokedlightBoxId(y.lbId);y.imagesViewCount++;if(y.pauseSlideshow){return}B();if(y.reloading){return false}a("#lightbox-container-image-extNav").hide();if(!y.slideshow){if(y.showLoading){a("#lightbox-loading").show()}else{a("#lightbox-loading").hide();y.containerResizeSpeed=0}a("#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide();a("#lightbox-container-image-bottomNav").hide()}else{y.containerResizeSpeed=150}if(y.fixedNavigation){a("#lightbox-image").hide()}else{a("#lightbox-image,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext,#lightbox-nav-btnPrev-div,#lightbox-nav-btnNext-div").hide()}var C=new Image();C.onload=function(){a("#lightbox-image").attr("src",y.imageArray[y.activeImage][0]);var J=(a(window).width()-y.containerBorderSize*10);var K=(a(window).height()-y.containerBorderSize*4-(a(window).height()/10));J=(J>y.maxWidth)?y.maxWidth:J;K=(K>y.maxHeight)?y.maxHeight:K;if(C.height>K){C.width=((C.width)/(C.height)*K);C.height=K}if(C.width>J){C.height=((C.height)/(C.width)*J);C.width=J}a("#lightbox-image").css({width:C.width});var M=C.width;var L=C.height;var F=a("#lightbox-container-image-box");var N=F.width();var E=F.height();var G=(M+(y.containerBorderSize*2));var H=(L+(y.containerBorderSize*2));var D=N-G;var I=E-H;if(!y.effects){a("#lightbox-container-image-box").animate({width:G,height:H},y.containerResizeSpeed,function(){o();a("#lightbox-container-image-extNav").show()});if((D==0)&&(I==0)){if(a.browser.msie){v(250)}else{v(100)}}N=M;E=L;a("#lightbox-container-image-data-box").css({width:N,"padding-top":"10px"});a("#lightbox-container-image-bottomNav").css({width:N,"padding-top":"10px"});a("#lightbox-container-image-extNav").css({width:N,display:"none"});a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({height:E+(y.containerBorderSize*2)});a("#lightbox-nav-btnPrev-div,#lightbox-nav-btnNext-div").css({height:E})}else{x(M,L)}if(y.slideshow){a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({display:"none"});a("#lightbox-nav-btnPrev-div,#lightbox-nav-btnNext-div").css({display:"none"})}C.onload=function(){}};C.src=y.imageArray[y.activeImage][0]}function e(){var D='<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div style="" id="lightbox-nav"><div id="lightbox-nav-btnPrev"><div id="lightbox-nav-btnPrev-div"></div></div><div id="lightbox-nav-btnNext"><div id="lightbox-nav-btnNext-div"></div></div></div><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"><img src="'+y.imageLoading+'"></a></div></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><div id="lightbox-image-details"><span id="lightbox-image-details-caption"></span><span id="lightbox-image-details-currentNumber"></span></div></div></div><div id="lightbox-container-image-extNav"><a href="#" id="lightbox-extNav-btnClose" title="Close"><img src="'+y.imageExtClose+'" alt="Close"></a></div></div>';if(y.useMobileTemplate){D='<div id="jquery-overlay"></div><div id="jquery-lightbox">  <div id="lightbox-container-image-box">   <a href="#" id="lightbox-image-data-btnClose" class="mobile-btn-close" title="Close"><img src="'+y.imageExtClose+'" alt="Close"></a>   <div id="lightbox-container-image">     <img id="lightbox-image">     <div style="" id="lightbox-nav">        <div id="lightbox-nav-btnPrev">         <div id="lightbox-nav-btnPrev-div"></div>       </div>        <div id="lightbox-nav-btnNext">         <div id="lightbox-nav-btnNext-div"></div>       </div>      </div>      <div id="lightbox-loading">       <a href="#" id="lightbox-loading-link"><img src="'+y.imageLoading+'"></a>      </div>    </div>  </div>  <div id="lightbox-container-image-bottomNav">   <div id="lightbox-bottomNav-btnPrev" title="Prev"><img src="'+y.imageBtnPrevActive+'" alt="Prev"></div>    <div id="lightbox-bottomNav-btnNext" title="Next"><img src="'+y.imageBtnNextActive+'" alt="Next"></div>    <div id="lightbox-image-details-caption" class="mobile-caption"></div>    </div></div>'}if(y.survey){a("body").append('<div class="p402_premium">'+D+"</div>")}else{a("body").append(D)}var H=n();var F=y.survey?window.innerHeight:H[1];a("#jquery-overlay").css({backgroundColor:y.overlayBgColor,opacity:y.overlayOpacity,width:H[0],height:F}).fadeIn();var I=p();var C=y.header?(H[3]/7):(H[3]/40);a("#jquery-lightbox").css({top:I[1]+C,left:I[0]}).show();if(y.header){var G=(C<72)?24:56;var E=(C<72)?-20:-45;a("#jquery-lightbox").prepend('<span class="header" style="position:relative; top:'+E+"px; color:#ffffff; font-size:"+G+'px; text-align:center">'+y.header+"</span>")}a("#lightbox-container-image-data-box, #lightbox-container-image-bottomNav").hide();a(window).resize(t)}function h(){if(y.useMobileTemplate){a(y.objSource).append('<div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div style="" id="lightbox-nav"><div id="lightbox-nav-btnPrev"><div id="lightbox-nav-btnPrev-div"></div></div><div id="lightbox-nav-btnNext"><div id="lightbox-nav-btnNext-div"></div></div></div><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"><img src="'+y.imageLoading+'"></a></div></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><div id="lightbox-image-details"><span id="lightbox-image-details-caption"></span><span id="lightbox-image-details-currentNumber"></span></div></div></div></div>')}else{a(y.objSource).append('<div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div style="" id="lightbox-nav"><div id="lightbox-nav-btnPrev"><div id="lightbox-nav-btnPrev-div"></div></div><div id="lightbox-nav-btnNext"><div id="lightbox-nav-btnNext-div"></div></div></div><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"><img src="'+y.imageLoading+'"></a></div></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><div id="lightbox-image-details"><span id="lightbox-image-details-caption"></span><span id="lightbox-image-details-currentNumber"></span></div></div></div></div>')}a("#jquery-lightbox").css({position:"static",top:0,left:0}).show();if(y.includeSourceLink&&y.imageArray[y.activeImage][2]){a("#lightbox-container-image-data-box").append('<div id="lightbox-container-image-data-box-source"><a href="//'+y.imageArray[y.activeImage][2]+'">'+y.sourceText+"</a></div>")}a("#lightbox-container-image-data-box, #lightbox-container-image-bottomNav").hide()}function k(){var D=n();a("#lightbox-container-image-box").css({width:"50%",height:"auto",margin:"0 auto",padding:"25px 10px 10px 10px"});a("#lightbox-secNav-btnClose").css({margin:"-20px 0px 0px 0px"});var C=y.survey?window.innerHeight:D[1];a("#jquery-overlay").css({backgroundColor:y.overlayBgColor,opacity:y.overlayOpacity,width:D[0],height:C}).fadeIn();var E=p();a("#jquery-lightbox").css({top:E[1]+(D[3]/2.5),left:E[0],zoom:1}).show()}function x(D,H){a("#lightbox-loading").hide();a("#lightbox-container-image").css({position:"relative",padding:0,overflow:"hidden"});a("#lightbox-container-image-box").css({padding:"10px"});var C=a("#lightbox-image");var E=d(D,H);var G=E.boxWidth,I=E.boxHeight;a("#lightbox-container-image").width(G).height(I);a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({display:"none"});A();a("#lightbox-container-image-data-box,#lightbox-image-details-currentNumber,#lightbox-container-image-bottomNav").hide();var F=y.slideDuration[y.imagesViewCount]?y.slideDuration[y.imagesViewCount]:y.kbDuration;r();a("#lightbox-container-image-box").animate({width:G,height:I},y.containerResizeSpeed,function(){var J=new Date;l(y.canvas,y.imageArray[y.activeImage][0],E,F,function(){return y.isStopped},function(){if(new Date-J<200){return false}if(y.survey){if(y.imagesViewCount%10===0){y.pauseSlideshow=true}}return y.pauseSlideshow},function(){if(y.slideshow&&(y.imageArray.length>1)){y.activeImage!=(y.imageArray.length-1)?y.activeImage++:y.activeImage=0;s()}},f);q();a("#lightbox-container-image-extNav").show()});if(y.embedded){a("#jquery-lightbox").css({width:G+20,height:I+20});a(y.objSource).css({width:G+20})}a("#lightbox-container-image-data-box").css({width:G,"padding-top":"10px"});a("#lightbox-container-image-extNav").css({width:G});a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({display:"none"});a("#lightbox-nav-btnPrev-div,#lightbox-nav-btnNext-div").css({height:I})}function d(C,F){var E;var D={};do{E=Math.floor((Math.random()*g.movements.length))}while(g.currMovement==E);g.currMovement=E;switch(g.movements[g.currMovement].type){case"pan":D=u(C,F);break;case"zoomin":D=w(C,F);break;case"zoomout":D=j(C,F);break}return D}function t(){var G=n();var E=y.survey?window.innerHeight:G[1];a("#jquery-overlay").css({width:G[0],height:E});var H=p();var C=y.header?(G[3]/7):(G[3]/40);a("#jquery-lightbox").css({top:H[1]+C,left:H[0]});if(y.header){var F=(C<72)?24:56;var D=(C<72)?-20:-45;a("#jquery-lightbox .header").css({top:D,fontSize:F})}}function o(){a("#lightbox-loading").hide();a("#lightbox-image").fadeIn(400,function(){q();z()});A()}function q(){if(y.hideImageData){return false}a("#lightbox-container-image-data-box").slideDown("fast");a("#lightbox-image-details-caption").hide();if(y.imageArray[y.activeImage][1]){a("#lightbox-image-details-caption").html(y.imageArray[y.activeImage][1]).show()}if(y.imageArray.length>1&&!y.hideImageDataPageNumber){a("#lightbox-image-details-currentNumber").html(y.txtImage+" "+(y.activeImage+1)+" "+y.txtOf+" "+y.imageArray.length).show()}}function A(){var E=new Image();var G=new Image();var F,D;var C=(y.imageArray.length-1)-y.activeImage;if(y.imageArray.length==1){return}switch(C){case y.imageArray.length-1:D=1;F=y.imageArray.length-1;break;case 0:D=0;F=y.activeImage-1;break;default:D=y.activeImage+1;F=y.activeImage-1}E.src=y.imageArray[D][0];G.src=y.imageArray[F][0]}function n(){var E,C;if(window.innerHeight&&window.scrollMaxY){E=window.innerWidth+window.scrollMaxX;C=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){E=document.body.scrollWidth;C=document.body.scrollHeight}else{E=document.body.offsetWidth;C=document.body.offsetHeight}}var D,F;if(self.innerHeight){if(document.documentElement.clientWidth){D=document.documentElement.clientWidth}else{D=self.innerWidth}F=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){D=document.documentElement.clientWidth;F=document.documentElement.clientHeight}else{if(document.body){D=document.body.clientWidth;F=document.body.clientHeight}}}if(C<F){pageHeight=F}else{pageHeight=C}if(E<D){pageWidth=E}else{pageWidth=D}arrayPageSize=new Array(pageWidth,pageHeight,D,F);return arrayPageSize}function p(){if(a("#jquery-lightbox").css("position")=="fixed"){return[0,0]}var D,C;if(self.pageYOffset){C=self.pageYOffset;D=self.pageXOffset}else{if(document.documentElement&&document.documentElement.scrollTop){C=document.documentElement.scrollTop;D=document.documentElement.scrollLeft}else{if(document.body){C=document.body.scrollTop;D=document.body.scrollLeft}}}arrayPageScroll=new Array(D,C);return arrayPageScroll}function v(E){var D=new Date();C=null;do{var C=new Date()}while(C-D<E)}function w(D,H){var G=1+y.kbPercent/100,F=1,C=1;switch(g.movements[g.currMovement].dir){case"down":F=0.5;break;case"up":F=2;break;case"right":C=0.5;break;case"left":C=2;break}var E={};E.fromWidth=Math.round(D/G);E.fromHeight=Math.round(H/G);E.toWidth=D;E.toHeight=H;E.toLeft=Math.round(E.fromWidth*(1-G)/2*C);E.toTop=Math.round(E.fromHeight*(1-G)/2*F);E.fromLeft=0;E.fromTop=0;E.boxWidth=E.fromWidth;E.boxHeight=E.fromHeight;return E}function j(D,H){var G=1+y.kbPercent/100,F=1,C=1;switch(g.movements[g.currMovement].dir){case"down":F=2;break;case"up":F=0.5;break;case"right":C=2;break;case"left":C=0.5;break}var E={};if(y.fixedViewport){E.toWidth=Math.round(D/G);E.toHeight=Math.round(H/G);E.fromWidth=D;E.fromHeight=H}else{E.toWidth=D;E.toHeight=H;E.fromWidth=Math.round(D*G);E.fromHeight=Math.round(H*G)}E.fromLeft=E.toWidth*(1-G)/2*C;E.fromTop=E.toHeight*(1-G)/2*F;E.toLeft=0;E.toTop=0;E.boxWidth=E.toWidth;E.boxHeight=E.toHeight;return E}function u(C,F){var D={};var E=1+y.kbPercent/100;D.boxWidth=Math.round(C/E);D.boxHeight=Math.round(F/E);D.fromHeight=F;D.fromWidth=C;D.toHeight=F;D.toWidth=C;D.fromLeft=0;D.toLeft=0;D.fromTop=0;D.toTop=0;switch(g.movements[g.currMovement].dir){case"down":D.fromTop=-D.boxHeight*y.kbPercent/100;break;case"up":D.toTop=-D.boxHeight*y.kbPercent/100;break;case"right":D.fromLeft=-D.boxWidth*y.kbPercent/100;break;case"left":D.toLeft=-D.boxWidth*y.kbPercent/100;break}D.boxWidth=D.toWidth+D.fromLeft+D.toLeft;D.boxHeight=D.toHeight+D.fromTop+D.toTop;return D}function l(D,S,C,G,E,K,Q,H){var M;var J,P;var I;var L=0;var N=false;var F=0;R();function R(){J=new Date;D.width=C.fromWidth;D.height=C.fromHeight;I=new Image();I.onload=function(){M=requestAnimationFrame(O,D)};I.src=S}function O(){if(K()){if(!N){P=new Date}F=F+(new Date-P);P=new Date;N=true;requestAnimationFrame(O,D);setTimeout(H,0);return}if(E()){window.cancelAnimationFrame(M);return}var W=new Date-J-F;if(W>G){window.cancelAnimationFrame(M);setTimeout(Q,0);return}var X=(W/G).toFixed(3);var V=C.fromLeft+(C.toLeft-C.fromLeft)*X;var Y=C.fromTop+(C.toTop-C.fromTop)*X;var T=C.fromWidth+(C.toWidth-C.fromWidth)*X;var U=C.fromHeight+(C.toHeight-C.fromHeight)*X;requestAnimationFrame(O,D);y.context.drawImage(I,V,Y,T,U)}}function r(){y.context.clearRect(0,0,y.canvas.width,y.canvas.height)}function B(){if(y.maintainLbUrl){y.hash=(!!y.imagesHash.length)?y.imagesHash[y.activeImage]:y.hash;if(y.hash!=window.location.hash){y.doNotProccedHashChange=true;window.location.hash=y.hash;if(y.refreshPage){document.location.reload();y.reloading=true}}}}function f(){if(y.survey){if(y.imagesViewCount%10===0){y.survey=false;y.pauseSlideshow=true;var C=window.location.protocol+"://"+window.location.host+"/"+window.location.pathname;runSurvey(C,""+(new Date()).getTime());setTimeout(function(){if(!a("#contain-402").length){return}var D=setInterval(function(){if(!a("#contain-402").length){y.pauseSlideshow=false;clearInterval(D)}},500)},5000)}}}function z(){a("#lightbox-container-image-bottomNav").slideDown("fast");if(y.imageArray.length<=1){return}setTimeout(function(){a("#lightbox-nav").show()},y.showButtonsDelay);var I={};var F=a("#lightbox-nav-btnPrev,#lightbox-bottomNav-btnPrev"),C=a("#lightbox-nav-btnNext,#lightbox-bottomNav-btnNext"),E=a("#lightbox-nav-btnPrev-div"),H=a("#lightbox-nav-btnNext-div");if(y.useMobileTemplate&&y.imageArray.length<=1){F=a("#lightbox-nav-btnPrev");C=a("#lightbox-nav-btnNext")}if(!y.slideshow){var D="url("+y.imageBtnPrevActive+") left "+y.navButtonsTopPosition+" no-repeat",G="url("+y.imageBtnNextActive+") right "+y.navButtonsTopPosition+" no-repeat"}if(y.fixedNavigation){if(y.usePrevNavigation){F.show()}else{F.hide()}C.show()}I=F.offset();I.right=F.width()+I.left;I.bottom=F.height()+I.top;if((y.mousePos.x>=I.left)&&(y.mousePos.x<=I.right)&&(y.mousePos.y>=I.top)&&(y.mousePos.y<=I.bottom)){E.css({background:D,cursor:"pointer"})}else{I={};I=C.offset();I.right=C.width()+I.left;I.bottom=C.height()+I.top;if((y.mousePos.x>=I.left)&&(y.mousePos.x<=I.right)&&(y.mousePos.y>=I.top)&&(y.mousePos.y<=I.bottom)){H.css({background:G,cursor:"pointer"})}}}return{set_interface_embedded:function(){h()},set_interface:function(){e()},set_image_to_view:function(){s()},show_form:function(){k()},resizeContainer:function(){t()}}}})(jQuery);function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"}function readCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function eraseCookie(a){createCookie(a,"",-1)}function xmlhttp(a,b){if(a==undefined){a=0}if(b==undefined){b=null}this.async=a;this.callback=b}xmlhttp.prototype.req=function(c,a,b){if(window.XMLHttpRequest){this.x=new XMLHttpRequest()}else{if(window.ActiveXObject){this.x=new ActiveXObject("Microsoft.XMLHTTP")}else{return false}}if(this.async){this.x.onreadystatechange=function(e,d){return function(){e.getresponse(d)}}(this,this.callback)}this.x.open(c,a,this.async?true:false);this.x.send(b);if(!this.async){return this.x}};xmlhttp.prototype.getresponse=function(a){if(this.x.readyState==4&&this.x.status==200){a(this.x)}};var _EventHandlers=new Array();var _EventHandlersId=0;function addEventHandler(c,b,a){_EventHandlers.push({obj:c,event:b,handler:a,id:++_EventHandlersId});if(c.attachEvent){c.attachEvent(b,a)}else{if(c.addEventListener){c.addEventListener(b.substr(2),a,false)}}return _EventHandlersId}function cleanEventHandlers(){var b,a;while((a=_EventHandlers.pop())!=undefined){if(a.obj.detachEvent){a.obj.detachEvent(a.event,a.handler)}else{if(a.obj.removeEventListener){a.obj.removeEventListener(a.event.substr(2),a.handler,false)}}}}function removeEventHandler(c){var b;for(b=0;b<_EventHandlers.length;b++){if(_EventHandlers[b].id==c){var a=_EventHandlers.splice(b,1)[0];if(a.obj.detachEvent){a.obj.detachEvent(a.event,a.handler)}else{if(a.obj.removeEventListener){a.obj.removeEventListener(a.event.substr(2),a.handler,false)}}break}}}addEventHandler(window,"onunload",cleanEventHandlers);function getTop(a){if(!a.offsetParent){return a.offsetTop}else{return getTop(a.offsetParent)+a.offsetTop}}function getLeft(a){if(!a.offsetParent){return a.offsetLeft}else{return getLeft(a.offsetParent)+a.offsetLeft}}var fadeCurrentOpacity=100;var fadeCurrentDirection=-2;var fadeStepInterval=150;var fadeId;function initFade(){fadeId=setInterval(stepFade,fadeStepInterval)}function stepFade(){fadeCurrentOpacity+=fadeCurrentDirection;if(fadeCurrentOpacity<=0){clearInterval(fadeId);return}var a;var b=document.getElementsByTagName("span");for(a=0;a<b.length;a++){if(b[a].className!="fade"){continue}b[a].style.opacity=""+(fadeCurrentOpacity/100);b[a].style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+fadeCurrentOpacity+")"}}function SuggestBox(a){this.delay=100;this.timerId=null;this.cache={};this.q="";this.shown=0;this.items=[];this.selectedItem=null;this.tempHandlers=[];this.obj=typeof(a)=="string"?document.getElementById(a):a;this.obj.autocomplete="off";this.obj.setAttribute("autocomplete","off");this.div=document.createElement("div");this.div.innerHTML="";this.div.style.position="absolute";this.div.style.border="1px solid #999";this.div.style.textAlign="left";this.div.style.backgroundColor="white";this.div.style.display="none";this.div.style.fontFamily="MS Shell Dlg, Verdana, Arial, Pragmatica, sans-serif";this.div.style.fontSize="11pt";this.div.style.whiteSpace="normal";this.div.style.zIndex="1000";this.div.className="suggestDiv";this.updatePlacement();document.body.insertBefore(this.div,document.body.firstChild);this.x=new xmlhttp(1,function(b){return function(c){b.updateContents(c)}}(this));addEventHandler(window,"onresize",function(b){return function(){b.updatePlacement()}}(this));addEventHandler(this.obj,"onkeyup",function(b){return function(c){b.keyup(c)}}(this));addEventHandler(this.obj,"onkeydown",function(b){return function(c){b.keydown(c)}}(this));addEventHandler(this.div,"onmouseout",function(b){return function(){b.selectItem(-1)}}(this));addEventHandler(document.body,"onclick",function(b){return function(){b.hidePopup()}}(this))}SuggestBox.prototype.updatePlacement=function(){this.div.style.top=getTop(this.obj)+this.obj.offsetHeight+"px";this.div.style.width=this.obj.offsetWidth<220?220:this.obj.offsetWidth;this.div.style.left=getLeft(this.obj)+"px"};SuggestBox.prototype.query=function(){if(this.cache[this.obj.value]==undefined){this.q=this.obj.value;if(this.obj.value.length>2){this.x.req("GET","http://"+location.host+"/searchSuggestHandler.htm?q="+escape(this.obj.value));this.timerId=null}else{this.cache[this.obj.value]={responseText:""}}}else{this.updateContents(this.cache[this.obj.value])}};SuggestBox.prototype.updateContents=function(a){if(a.readyState!=undefined){this.cache[this.q]={responseText:a.responseText}}var b;for(b=0;b<this.tempHandlers.length;b++){removeEventHandler(this.tempHandlers[b])}this.tempHandlers=[];this.div.innerHTML=a.responseText;this.items=this.div.getElementsByTagName("a");this.selectedItem=null;for(b=0;b<this.items.length;b++){this.items[b].index=b;var c=addEventHandler(this.items[b],"onmouseover",function(e,d){return function(){e.selectItem(d)}}(this,b));this.tempHandlers.push(c)}this.div.style.display=a.responseText==""?"none":"";this.shown=a.responseText==""?0:1;this.updatePlacement()};SuggestBox.prototype.selectItem=function(a){if(this.selectedItem){this.selectedItem.className=this.selectedItem.className.replace(/hover/,"")}if(a==-1){this.selectedItem=null;return}this.selectedItem=this.items[a];this.selectedItem.className+=" hover"};SuggestBox.prototype.keydown=function(a){if(!this.shown||!this.items.length){return}var b=1;switch(a.keyCode){case 13:if(!this.selectedItem){return}document.location=this.selectedItem.href;break;case 38:if(!this.selectedItem){this.selectItem(0)}else{this.selectItem((this.selectedItem.index+this.items.length-1)%this.items.length)}break;case 40:if(!this.selectedItem){this.selectItem(0)}else{this.selectItem((this.selectedItem.index+1)%this.items.length)}break;case 27:this.selectItem(-1);default:b=0;break}if(b){a.returnValue=false;if(a.preventDefault){a.preventDefault()}}};SuggestBox.prototype.keyup=function(a){if(a.keyCode==38||a.keyCode==40){return}if(this.timerId){clearTimeout(this.timerId)}this.timerId=setTimeout(function(b){return function(){b.query()}}(this))};SuggestBox.prototype.hidePopup=function(){this.div.style.display="none"};function searchSubmit(a){location.href="/s/"+a.elements.q.value.replace(/\s/g,"-");return false}(function(){this.ControlDiscussionPostsList=Class.create({},{init:function(){this.initPartSize=50;this.initPartStart=0;this.discussions=$(this._serverData._selectors.parent+" "+this._serverData._selectors.discuss);this.discussions=this.discussions.filter(this.getHandler(this,function(a,b){return $(this._serverData._selectors.content+"> div",b).height()>this._serverData.discMaxHeight}));this.initIntervalId=setInterval(this.getHandler("initDiscussion"),300);this.initDiscussion()},initDiscussion:function(){var a=this.discussions.slice(this.initPartStart,this.initPartStart+this.initPartSize);if(a.length===0){clearInterval(this.initIntervalId);delete (this.discussions);return false}this.initPartStart+=this.initPartSize;a.children(this._serverData._selectors.content).css({maxHeight:this._serverData.discViewHeight});a.children(this._serverData._selectors.bkg).show();var b=a.children(this._serverData._selectors.control);b.click(this.getHandler("open"));b.children("a").click(this.getHandler("open"));b.show()},open:function(c,d){var a=$(d).closest(this._serverData._selectors.discuss);var b=a.children(this._serverData._selectors.content);b.css({height:b.height(),maxHeight:"none"});b.animate({height:b.children("div").height()},"normal",function(){$(this).css({height:"auto"})});a.children(this._serverData._selectors.control).fadeOut("fast");a.children(this._serverData._selectors.bkg).fadeOut("fast");return false}},[Control])})();jQuery.fn.extend({scrollTo:function(a,b){return this.each(function(){var c=$(this).offset().top-50;$("html,body").animate({scrollTop:c},a,b)})}});var PageArticle=Class.create({},{init:function(){$("#"+this._serverData.printArticleLinkId).click(this.getHandler("printArticle"))},printArticle:function(a){a=a||window.event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}$("#"+this._serverData.printArticleFormId).submit()},load:function(){if(this._serverData.postSuccessfull){$("a[name=discussion]").scrollTo(1000)}else{if(this._serverData.postError){$("a[name=loadDicsussions]").scrollTo(1000)}else{if(this._serverData.scrollToPostBox){$("a[name=loadDicsussions]").scrollTo(1000)}}}var b=$("a.lightbox");if(typeof(b[0])=="undefined"){this.loadOtherScripts();this.loadFbWidget();return}if(this._serverData.noAds==true){createCookie("lb_status","1")}var c=new Image();c.src=b[0].href;var a=$("a.lightbox span");a.css("opacity","0");a.css("z-index","10");a.hover(function(){$(this).stop().animate({opacity:0.85})});a.mouseout(function(){$(this).stop().animate({opacity:0})});this.initLightboxes();this.loadOtherScripts();this.loadFbWidget();this.initSuggestButtons();this.bandwidthTrottlingSlideshowSuppressed()},stopMouseLeaveLB:function(){$(window).unbind("mouseleave.lightbox");this.setLbStatus()},loadOtherScripts:function(){(function(){var po=document.createElement("script");po.type="text/javascript";po.async=true;po.src="https://apis.google.com/js/plusone.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)})();(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs)}})(document,"script","twitter-wjs");if(document.getElementById("contentAd")!==null){var s=document.getElementById("contentAd"),params=eval(s.getAttribute("params")),scriptFile=s.getAttribute("scriptName");var po=document.createElement("script");po.type="text/javascript";po.async=true;var qs="";for(var key in params){qs+=key+"="+params[key]+"&"}qs=qs.substring(0,qs.length-1);po.src="http://api.content.ad/Scripts/"+scriptFile+"?"+qs;s.parentNode.insertBefore(po,s)}window._comscore=window._comscore||[];window._comscore.push({c1:"2",c2:"8556372"});(function(){var s=document.createElement("script"),el=document.getElementsByTagName("script")[0];s.async=true;s.src=(document.location.protocol=="https:"?"https://sb":"http://b")+".scorecardresearch.com/beacon.js";el.parentNode.insertBefore(s,el)})()},initSuggestButtons:function(){$(".suggestEdit p").each(function(d){$(this).wrap('<div class="suggested" suggestButtonId="'+d+'"></div>');$(this).append('<div><div class="suggest_edit" id="'+d+'" href="#"><input type="button" size="3" href="#suggestEditForm" value="Suggest Edits"/></div></div>')});var b=this.getHandler("showSuggestButton");var a=this.getHandler("hideSuggestButton");var c=this.getHandler("clickSuggestButton");$(".suggested").each(function(d){$(this).mouseenter(b);$(this).mouseleave(a);$("#"+d).mouseenter(b);$("#"+d).click(c);$("#"+d).hide()});this.initSuggestLightbox()},clickSuggestButton:function(){$("#suggestEditForm").show();$("#jquery-lightbox").css({top:"10px"});$("#lightbox-container-image-box").css({backgroundColor:"inherit"});$("#lightbox-secNav-btnClose").css({margin:null});$("#lightbox-secNav-btnClose").css({width:"auto"});$("#lightbox-container-image-box").css({width:"78%"});$("#articleEdit").prop({value:this._serverData.articleContent});$(".suggestEditsButton").click(this.getHandler("suggestEditButtonClick"));$("#lightbox-loading").hide()},initSuggestLightbox:function(){this.lightboxForm=$(".suggest_edit input");this.lightboxForm.lightBox({imageBtnClose:"res/common/img/lightbox/closebutton.png",imageLoading:"res/common/img/lightbox/lightbox-ico-loading.gif",overlayBgColor:"#A0A0A0",overlayOpacity:0.8,type:"form"})},showSuggestButton:function(a){var b=$(a.currentTarget).attr("suggestButtonId");$("#"+b).show()},hideSuggestButton:function(a){var b=$(a.currentTarget).attr("suggestButtonId");$("#"+b).hide()},suggestEditButtonClick:function(b){var a=$("#articleEdit").val();var c=$("#articleExplaination").val();$("#suggestDialogForm").hide();$("#thankYouForm").show();$("#lightbox-container-image-box").css("width","40%");var d={};d[this._serverData.newContent]=a;d[this._serverData.newExplaination]=c;d[this._serverData._actions.suggestArticleEdit]=true;$.post(this._serverData.sRequestUrl,d,this.getHandler("suggestEditButtonClickCallback"),"json")},suggestEditButtonClickCallback:function(){},loadFbWidget:function(){var b=document.getElementById("socialWidgetBlock"),a=document.createElement("iframe");a.src="//www.facebook.com/plugins/likebox.php?href=https%3A%2F%2Fwww.facebook.com%2FwiseGEEK&width=292&colorscheme=light&show_faces=true&height=258&stream=false&show_border=true&header=false&appId=115218921845642";a.setAttribute("scrolling","no");a.setAttribute("frameborder","0");a.setAttribute("allowTransparency","true");a.style.border="none";a.style.overflow="hidden";a.style.width="292px";a.style.height="258px";a.style.fontFamily="Droid Sans,Arial,sans-serif";b.insertBefore(a,b.firstChild)},setLbStatus:function(){if(readCookie("lb_status")){return}createCookie("lb_status","1");for(var b in this._serverData.crossDomainsLightbox){var a=$("#"+b);if(this._serverData.crossDomainsLightbox[b]!==window.location.hostname){a.get(0).contentWindow.location.replace("http://"+this._serverData.crossDomainsLightbox[b]+"/cross-domain-lightbox-cookie.htm")}}},initLightboxes:function(){$("a.lightbox").lightBox({fixedNavigation:true,maintainLbUrl:true,withoutHistory:true,runOnEvent:true,runOnHash:true,runImmediateOnHash:true,closeCallback:this.getHandler("stopMouseLeaveLB")});if(!document.createElement("canvas").getContext){if(typeof G_vmlCanvasManager=="undefined"){return}}if(this._serverData.showDYK){var a={maintainLbUrl:true,hash:"#slideshow",withoutHistory:true,effects:true,selectorEvent:"mouseout.lightbox",slideshow:true,slideDuration:{1:3000},runOnMouseout:true,runOnHash:true,indirectClick:true,openCallback:function(e){var f=e.relatedTarget||e.toElement;if(readCookie("lb_status")){return false}if(f){return false}Page.getInstance().beforeOpenLigntboxHandler();return true},closeCallback:this.getHandler("stopMouseLeaveLB")}}var b={maintainLbUrl:true,hash:"#slideshow",withoutHistory:true,effects:true,selectorEvent:"click",slideshow:true,slideDuration:{1:3000},indirectClick:true,runOnEvent:true,runOnHash:true,runImmediateOnHash:true,closeCallback:this.getHandler("stopMouseLeaveLB")};if(this._serverData.showDYK){var d={overlayBgColor:"#848484",overlayOpacity:0.95,maintainLbUrl:true,selectorEvent:"mouseout.lightbox",hash:"#didyouknowout",header:"Did You Know...",fixedViewport:true,withoutHistory:true,effects:true,slideshow:true,slideDuration:{1:3000},hideImageData:true,survey:true,runOnMouseout:true,runOnHash:true,indirectClick:true,openCallback:function(e){var f=e.relatedTarget||e.toElement;if(readCookie("lb_status")){return false}if(f){return false}Page.getInstance().beforeOpenLigntboxHandler();return true},closeCallback:this.getHandler("stopMouseLeaveLB")}}var c={overlayBgColor:"#848484",overlayOpacity:0.95,maintainLbUrl:true,hash:"#didyouknow",fixedViewport:true,withoutHistory:true,effects:true,selectorEvent:"click",slideshow:true,slideDuration:{1:3000},hideImageData:true,indirectClick:true,runOnEvent:true,runOnHash:true,runImmediateOnHash:true,closeCallback:this.getHandler("stopMouseLeaveLB")};c.elem=$("a.lightbox2").length?"a.lightbox2":"a.lightbox";if(this._serverData.showDYK){d.elem=$("a.lightbox2").length?"a.lightbox2":"a.lightbox";$("body").lightBox(d)}$("a.lbdyk").show().lightBox(c);if(this._serverData.customImages){$("a.lbslideshow").show().lightBox(b)}},beforeOpenLigntboxHandler:function(){var a={slideshowSpawned:1,bandwidthThrottlingChoice:this._serverData.BandwidthThrottlingChoice};$.post("/Ping10Sec.php",a,function(b){},"json")},bandwidthTrottlingSlideshowSuppressed:function(){if(this._serverData.BandwidthThrottlingChoice==true&&this._serverData.showDYK==false){var a={slideshowSpawned:0,bandwidthThrottlingChoice:this._serverData.BandwidthThrottlingChoice};$.post("/Ping10Sec.php",a,function(b){},"json")}}},[Page]);var google_ad_start_pos=0;function google_ad_wrap_a(b,c,a){return"<div class="+a+'><a onclick="" href="'+b.url+'" onmouseover="window.status=\''+b.visible_url+'\'; return true;" onmouseout="window.status=\'\'" target="_blank" >'+c+"</a></div>"}function google_ad_wrap_a2(b,c,a){return"<a class="+a+' href="'+b.url+'" onmouseover="window.status=\''+b.visible_url+'\'; return true;" onmouseout="window.status=\'\'" target="_blank" >'+c+"</a>"}function google_ad_wrap_div(b,c,a){return"<div class="+a+">"+c+"</div>"}function google_ad_show_block_unificated_table(e,d,b,f){if(b==undefined){b=4}if(f!=undefined){google_ad_start_pos=f}if(d.length<google_ad_start_pos+1){return}var c=document.getElementById(e);if(!c){return}var a='<div class="gLinkUnitCaption ads_title"><A href="'+google_info.feedback_url+'">Ads by Google</A></div>';if(d[0].type=="text"){a+='<table cellpadding="0" cellspacing="0">';for(i=google_ad_start_pos;i<Math.min(google_ad_start_pos+b,d.length);++i){a+='<tr><td class="col1">'+google_ad_wrap_a2(d[i],d[i].line1,"advTitle")+"</td>";a+='<td class="col2">'+google_ad_wrap_div(d[i],"<div class='adText'>"+d[i].line2+" "+d[i].line3+"</div> "+google_ad_wrap_a2(d[i],d[i].visible_url,"url"),"description_link")+"</td></tr>"}a+="</table>"}c.innerHTML=a;c.style.display="";google_ad_start_pos=Math.min(google_ad_start_pos+b,d.length)}function google_ad_request_done(b){if(b.length==0){return}if(typeof(ad_page)=="undefined"){ad_page=""}google_ad_start_pos=0;if(ad_page=="tags"){if(arguments.callee.first_run){arguments.callee.ads=[]}for(var a=0;a<b.length;a++){arguments.callee.ads.push(b[a])}if(arguments.callee.first_run){arguments.callee.first_run=0}else{google_ad_show_block_unificated_table("ad_block_1",arguments.callee.ads,7)}}else{google_ad_show_block_unificated_table("ad_block_1",b,5);google_ad_show_block_unificated_table("ad_block_2",b,4,5);google_ad_show_block_unificated_table("ad_block_3",b,4,9)}$(".googleAdv2 a").click(function(){send10SecPing("/Ping10Sec.php")})}google_ad_request_done.first_run=1;String.prototype.tld=function(){return(m=this.match(new RegExp("^([A-Za-z0-9_]+.)?(.+)$")))?m[2]:false};function google_radlink_unit_inline(b,d){var a="<div class='gLinkUnitCaption'><a href='"+google_info.feedback_url+"'>Ads by Google</a></div> ";var c;for(c=0;c<b.length;c++){a+=" <div class='gLinkUnitKeyword'><a target='_blank' href='http://related."+window.location.hostname.tld()+"/related/?kw="+b[c].url_escaped_term+"&rt="+b[c].radlink_token+"&url="+encodeURIComponent(window.location)+"'>"+b[c].term+"</a></div>"}d.innerHTML=a;d.style.display=""}function google_radlink_unit_Ncolumns(b,g,d,f){var a="<div class='googleAdvT'><div class='gLinkUnitCaption'><a href='"+google_info.feedback_url+"'>Ads by Google</a></div></div>";var c;n_radlinks=new Array();n_radlinks[1]=b.slice(0,b.length/d);n_radlinks[2]=b.slice(b.length/d,b.length);for(var e=1;e<=d;e++){a+="<div class='col"+e+"' "+f+">";for(c=0;c<n_radlinks[e].length;c++){a+="<div class='gLinkUnitKeyword'><a target='_blank' href='http://related."+window.location.hostname.tld()+"/related/?kw="+n_radlinks[e][c].url_escaped_term+"&rt="+n_radlinks[e][c].radlink_token+"&url="+encodeURIComponent(window.location)+"'>"+n_radlinks[e][c].term+"</a></div>"}a+="</div>";g.innerHTML=a;g.style.display=""}}function google_radlink_unit(a,e){var d=document.getElementById(e);if(!a.length||d==undefined){return false}var c=new RegExp("(?:^|\\s)gLinkUnitBlock2columns(?:$|\\s)");var b=new RegExp("(?:^|\\s)gLinkUnitBlock1column(?:$|\\s)");if(c.test(d.className)){google_radlink_unit_Ncolumns(a,d,1,"")}else{if(b.test(d.className)){google_radlink_unit_Ncolumns(a,d,1,"style='width:200px;'")}else{google_radlink_unit_inline(a,d)}}}function google_radlink_request_done(b){if((window.google_adlink_request_perfomed!=undefined)&&window.google_adlink_request_perfomed){globalLinks=[];for(var c=0;c<b.length;c++){globalLinks[c]=b[c]}}var d=[5,6,4];if(typeof(aGoogleNumRadlinksPerUnit)!=="undefined"){d=aGoogleNumRadlinksPerUnit}var c;var a;for(c=0;c<d.length;c++){a=b.splice(0,d[c]);google_radlink_unit(a,"gLinkUnit"+c);if(b.length==0){break}}}function fillRelatedTopicsContainer(d,e,a){var f=0;var g=d.firstChild;var c=new RegExp("(?:^|\\s)gInlineBlock(?:$|\\s)");if(c.test(d.className)){g=d}for(;g;g=g.nextSibling){if((g.nodeType==1)){var h=g.firstChild;for(;h;h=h.nextSibling){if((h.nodeType==1)){if(a.test(h.className)){var b=h.firstChild;for(;b;b=b.nextSibling){if(a.test(b.className)){b.innerHTML=e[f].keyword;b.href=e[f].url;f++}}}}}}}}function showAdLinkBlock(b,c){b.innerHTML="";var a=b.parentNode.parentNode.firstChild;while(a.nodeType!=1){a=a.nextSibling}a.innerHTML="";b.id="gLinkUnit"+c}function fill_related_topics_links(d,e,c,b,a){fill_related_topics(d,e,c,b,a);return fill_google_ads(d,e,c,b,a)}function fill_google_ads(k,f,n,j,q){var p=[];p=get_ads_elements(f,j);if(p.length>0){var d=new RegExp("(?:^|\\s)"+n+"(?:$|\\s)");var o=2400;var s=5;var l=true,c=0,b=0,r=0,e,a;for(var g=0;g<p.length;g++){a=p[g];e=(typeof(a)==="undefined")?null:a.parentNode.parentNode.parentNode;if(e==null){continue}if(e.tagName=="TBODY"){if(b==0){b=e.offsetParent.offsetTop}r=e.offsetTop+b}else{r=a.offsetTop}if((r>=o)&&(c<s)){l=false;o=r+800}if(!l){showAdLinkBlock(a,(q+c));c++;l=true}}}var h=[0,""];if(c>0){h[0]=5*c;for(i=0;i<c;i++){h[1]+=",5"}}return h}function fill_related_topics(h,e,j,g,l){var k=[];k=get_ads_elements(e,g);if(!k.length){return}var c=new RegExp("(?:^|\\s)"+j+"(?:$|\\s)");var d,b;for(var f=0;f<k.length;f++){b=k[f];d=(typeof(b)==="undefined")?null:b.parentNode.parentNode.parentNode;if(d==null){continue}if(h&&h.length>0&&b.innerHTML!=""){var a=b.parentNode.parentNode.firstChild;if(d.tagName=="TBODY"){while(a.nodeType!=1){a=a.nextSibling}a.innerHTML="Related Topics"}fillRelatedTopicsContainer(b,h,c)}}}function get_ads_elements(h,a){if(typeof(a)==="undefined"){a="*"}var g=[];if(typeof(document.getElementsByClassName)==="undefined"){var d=new RegExp("(?:^|\\s)"+h+"(?:$|\\s)");var b=document.getElementsByTagName(a);var f;for(var e=0;(f=b[e])!=null;e++){var c=f.className;if(c&&c.indexOf(h)!=-1&&d.test(c)){g.push(f)}}}else{g=document.getElementsByClassName(h,a)}return g}function add_top_related_topics_link_to_image(d,c,a){if(d&&d.length>0){if(typeof(a)==="undefined"){a="RelatedTopicsImageLink"}var b=document.getElementById(c);var e=document.createElement("a");e.setAttribute("class",a);e.setAttribute("className",a);e.target="_blank";e.href=d[0].url;e.innerHTML=b.innerHTML;b.innerHTML="";b.appendChild(e)}}function getElementPosition(b){var a=iTopOffset=0;if(b.offsetParent){do{a+=b.offsetLeft;iTopOffset+=b.offsetTop}while(b=b.offsetParent)}return[a,iTopOffset]}function getViewportSize(){var a={height:0,width:0};if(typeof window.innerWidth!="undefined"){a.width=window.innerWidth,a.height=window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}else{a.width=document.getElementsByTagName("body")[0].clientWidth,a.height=document.getElementsByTagName("body")[0].clientHeight}}return a}function addEvent(a,c,b){if(a==null||a==undefined){return}if(a.addEventListener){a.addEventListener(c,b,false)}else{if(a.attachEvent){a.attachEvent("on"+c,b)}}}function shuffle(b){function e(g,f){return Math.round(g-0.5+Math.random()*(f-g+1))}for(var c,a,d=b.length;d;c=e(0,d-1),a=b[--d],b[d]=b[c],b[c]=a){}return b}function google_post_ads_init(){google_post_ads_set_position();if($.browser.firefox||($.browser.msie&&Number($.browser.version)>=9)){$("body").bind("DOMSubtreeModified",google_post_ads_set_position)}else{setInterval(google_post_ads_set_position,500)}}function google_post_ads_set_position(){$(".postAdvCover[data-related]").each(function(){var a=$(this);a.css($("#"+a.data("related")).position());a.show()})};