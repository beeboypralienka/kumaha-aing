jQuery.fn.keyup_waiter=function(timeout,wait_function){var element=$(this);element.attr('last_key_up',new Date().getTime());element.attr('last_validated_value',false);$("body").on('keyup',$(this),function(){if((element.val()!=element.attr('last_key_up'))){element.attr('last_key_up',new Date().getTime());setTimeout(function(){var now=new Date().getTime();if(now-element.attr('last_key_up')>=timeout-10){element.attr('last_validated_value',element.val());wait_function(element.val());element.attr('last_key_up',now);}},timeout);}});};function email_is_valid(email){if(email.length<5)
return false;var at=email.indexOf('@');if(at<1)
return false;var dot=email.indexOf('.',at);if(dot<=at+1)
return false;var banned=new Array('..','.@','+@','_@','@.','@+','@_');for(var i=0;i<banned.length;i++){if(email.indexOf(banned[i])>=0)
return false;}
if(email.split('@').length-1>1)
return false;if(!email.toLowerCase().match('[a-z0-9\+\-\_\@\.]+'))
return false;var banned=new Array('.','@','_','+');for(var i=0;i<banned.length;i++){if(email[email.length-1]=='.')
return false;}
return true;};var first=true;function checkEmail(email)
{if(email==''){return false;}
var re=new RegExp("^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$");return re.test(email.toLowerCase());}
function LaunchPopUp(first){if($.cookie('eng')){if($.cookie('country_code')=='us'){var region='eng-us';}else{var region='eng-nonus';}
var foot='<div style="text-align:center"><span class="close" style="font:normal 13px arial;color:#0253b7; text-decoration:underline; cursor:pointer">Click here to continue to site</span></div>';}else{var region='noneng';var foot='<div style="font:normal 11px Arial;color:#676767;text-align:center">We do not sell or reveal user information to anyone. <a href="/disclaimer.html" target="_blank" style="color:#4D93E2">Privacy Policy</a>. Cancel anytime.</div>';}
var random=Math.floor((Math.random()*100)+1);var pathname=window.location.pathname;var content_control='<div>'+'<div class="popup-logo"><img src="http://www.businessdictionary.com/images/logo-white-bg-no-slogan.png" /></div>'+'<div class="popup-call-to-action">FREE Daily Email Newsletter!</div>'+'<div class="popup-adcopy">'+'Educate yourself one term at a time, with our term of the day newsletter.'+'</div>'+'<form id="newpopfrm" class="popup-form">'+'<div>'+'<div class="subscribe-area">'+'<input id="emailpopup" name="email" size="30" value="" class="popup-email-input">'+'&nbsp;<input type="submit" class="submitbutton" value="">'+'<div class="error" id="my-email-error2" style="height:15px;"></div>'+'</div>'+'</div>'+'<div class="checkboxes" style="float:left;margin:-12px 0 12px 0;">'+'<div style="padding:2px 6px 6px 6px;margin:0;display:none">'+'<input type="checkbox" checked="checked" name="termoftheday" id="termoftheday" value="yes" style="padding:0px;margin:0 -1px 0 0;">'+'<label for="termoftheday"><b>Business Term of the Day</b></label>'+'</div>'+'</div>'+'</form>'+'<div style="clear:both"></div>'+
foot+'</div>';var logpageName='A';var split_title='BD - Control No Privacy CC';var content=content_control;var splitname=split_title+' ('+logpageName+') -'+region;Popup.open({id:logpageName,content:content,buttons:'',callback:function(popupWindow){if(first)
_gaq.push(['_trackEvent','popup-validation15','popup shown, split='+logpageName]);else
_gaq.push(['_trackEvent','popup-validation15','popup shown, 2nd, split='+logpageName]);$('#passwordholder').focus(function(){$('#password-input').show();$('#password-input').focus();$('#passwordholder').hide();});$('#password-input').blur(function(){if($('#password-input').val()==''){$('#passwordholder').show();$('#password-input').hide();}})
jQuery("#newpopfrm").submit(function(){if(first)
_gaq.push(['_trackEvent','popup-validation15','form submitted, split='+logpageName]);else
_gaq.push(['_trackEvent','popup-validation15','form submitted, 2nd, split='+logpageName]);var myEmail=jQuery('#emailpopup').val().trim();if(!checkEmail(myEmail)){$('#my-email-error2').html('Please enter a valid email.');_gaq.push(['_trackEvent','popup-validation15','invalid email submitted']);}else{$('#my-email-error2').html('&nbsp;');var old_myEmail=myEmail;var email_splits_temp=myEmail.split('@');var username_entered=email_splits_temp[0];var domain_entered=email_splits_temp[1].toLowerCase();var email_corrected;var special_typo_cases=false;if(domain_entered=='yaoo.com'||domain_entered=='yhoo.com'||domain_entered=='yahooo.com'||domain_entered=='yahool.com'||domain_entered=='yohoo.com'||domain_entered=='yayoo.com'||domain_entered=='ahoo.com'||domain_entered=='yaho.com'||domain_entered=='yahooc.om'){myEmail=username_entered+'@yahoo.com';_gaq.push(['_trackEvent','popup-domain-correction','using yahoo.com']);special_typo_cases=true;}else if(domain_entered=='haotmail.com'||domain_entered=='hotmal.com'){myEmail=username_entered+'@hotmail.com';_gaq.push(['_trackEvent','popup-domain-correction','using hotmail.com']);special_typo_cases=true;}else if(domain_entered=='redifmail.com'){myEmail=username_entered+'@rediffmail.com';_gaq.push(['_trackEvent','popup-domain-correction','using rediffmail.com']);special_typo_cases=true;}else{email_corrected=spellChecker(myEmail);}
var urls=(first)?'firsturl':'secondurl';var pfrcheck=jQuery('#pfresolution:checked').val();var bdtodcheck=jQuery('#termoftheday:checked').val();var bizdaily=jQuery('#bizdaily:checked').val();var igd=jQuery('#igd:checked').val();var logvalue='popupSignup'+logpageName;if((special_typo_cases)||(email_corrected.toLowerCase()==myEmail.toLowerCase())){jQuery('#my-email-error2').html('Subscribing...');jQuery.ajax({type:"POST",url:"/subscribe/signuptest.php",data:{email:myEmail,page:logvalue,savlog:logpageName,splitname:splitname,pageFrom:urls,bdtod:bdtodcheck,pfresolution:pfrcheck,bizdailyvalue:bizdaily,igdaily:igd},dataType:"html",success:function(msg){_gaq.push(['_trackEvent','popup-validation15','form submitted successfully, address unfixed']);popupWindow.close();showPopupSuccess(myEmail,urls,logpageName);}});}else{_gaq.push(['_trackEvent','TOD popup','potential typo in domain name: '+domain_entered]);var email_suggest_html='<div class="subscribe-area"><div class="signup-check-desc">Typo? Sign up now with...</div><a href="javascript:;" class="signup-check-button" id="wrong-one">'+myEmail+'</a><a href="javascript:;" class="signup-check-button" id="right-one">'+email_corrected+'</a>';$('.subscribe-area').html(email_suggest_html);$('.signup-check-button').click(function(){var the_id=$(this).attr('id');if(the_id=='wrong-one'){_gaq.push(['_trackEvent','user kept domain',domain_entered]);}else{_gaq.push(['_trackEvent','user fixed domain',domain_entered]);}
myEmail=$.trim($(this).text());jQuery('#my-email-error2').html('Subscribing...');jQuery.ajax({type:"POST",url:"/subscribe/signuptest.php",data:{email:myEmail,page:logvalue,savlog:logpageName,splitname:splitname,pageFrom:urls,bdtod:bdtodcheck,pfresolution:pfrcheck,bizdailyvalue:bizdaily,igdaily:igd},dataType:"html",success:function(msg){_gaq.push(['_trackEvent','popup-validation15','form submitted successfully, address fixed']);popupWindow.close();showPopupSuccess(myEmail,urls,logpageName);}});});}}
return false;});}});}
function TryToShowPopup()
{_gaq.push(['_trackEvent','popup-validation15','checking whether to show popup']);var params=getQueryParams(window.location.search);if(params.nl!=undefined&&params.nl=='bdtod'){var dt=new Date();dt.setTime(dt.getTime()+(60*60*1000));$.cookie('TODcookie','yesexists',{expires:dt,path:'/'});$.cookie('TODpopup_window','second_popup',{expires:dt,path:'/'});_gaq.push(['_trackEvent','popup-validation15','suppressed popup because of NL']);}
if(!$.cookie('TODcookie'))
{var dt=new Date();dt.setTime(dt.getTime()+(7*24*60*60*1000));$.cookie('TODcookie','yesexists',{expires:dt,path:'/'});var first=false;if(!$.cookie('TODpopup_window'))
{var first=true;var dat=new Date();dat.setTime(dat.getTime()+(365*24*60*60*1000));$.cookie('TODpopup_window','second_popup',{expires:dat,path:'/'});}
LaunchPopUp(first);}else{_gaq.push(['_trackEvent','popup-validation15','suppressed popup because of cookie']);}}
function getQueryParams(qs){qs=qs.split("+").join(" ");var params={},tokens,re=/[?&]?([^=]+)=([^&]*)/g;while(tokens=re.exec(qs)){params[decodeURIComponent(tokens[1])]=decodeURIComponent(tokens[2]);}
return params;}
function showPopupSuccess(email,url,split)
{if($.cookie('eng')||$.cookie('country_code')=='us'){var forceclose='<span class="close forseclose"></span>';}else{var forceclose='';}
var random=Math.floor((Math.random()*100));if($.cookie('us')&&(random<0)){var cpcads='<div class="cpc-ads-block-green">'+'<a class="box1" href="http://oascentral.businessdictionary.com/RealMedia/ads/click_nx.ads/www.businessdictionary.com/businessdictionary/popup_first_position_green_arrow/@Bottom">'+'<img src="http://oascentral.businessdictionary.com/RealMedia/ads/adstream_nx.ads/www.businessdictionary.com/businessdictionary/popup_first_position_green_arrow/@Bottom" width="420">'+'</a>'+'<a class="box2" href="http://oascentral.businessdictionary.com/RealMedia/ads/click_nx.ads/www.businessdictionary.com/businessdictionary/popup_second_position_green_arrow/@Bottom">'+'<img src="http://oascentral.businessdictionary.com/RealMedia/ads/adstream_nx.ads/www.businessdictionary.com/businessdictionary/popup_second_position_green_arrow/@Bottom" width="420">'+'</a>'+'<a class="box3" href="http://oascentral.businessdictionary.com/RealMedia/ads/click_nx.ads/www.businessdictionary.com/businessdictionary/popup_third_position_green_arrow/@Bottom">'+'<img src="http://oascentral.businessdictionary.com/RealMedia/ads/adstream_nx.ads/www.businessdictionary.com/businessdictionary/popup_third_position_green_arrow/@Bottom" width="420">'+'</a>'+'</div>';}else{var cpcads='<div class="cpc-ads-block">'+'<a href="http://oascentral.businessdictionary.com/RealMedia/ads/click_nx.ads/www.businessdictionary.com/businessdictionary/popup_first_position_hover/@Bottom">'+'<img src="http://oascentral.businessdictionary.com/RealMedia/ads/adstream_nx.ads/www.businessdictionary.com/businessdictionary/popup_first_position_hover/@Bottom">'+'</a>'+'<a href="http://oascentral.businessdictionary.com/RealMedia/ads/click_nx.ads/www.businessdictionary.com/businessdictionary/popup_second_position_hover/@Bottom">'+'<img src="http://oascentral.businessdictionary.com/RealMedia/ads/adstream_nx.ads/www.businessdictionary.com/businessdictionary/popup_second_position_hover/@Bottom">'+'</a>'+'<a href="http://oascentral.businessdictionary.com/RealMedia/ads/click_nx.ads/www.businessdictionary.com/businessdictionary/popup_third_position_hover/@Bottom">'+'<img src="http://oascentral.businessdictionary.com/RealMedia/ads/adstream_nx.ads/www.businessdictionary.com/businessdictionary/popup_third_position_hover/@Bottom">'+'</a>'+'</div>';}
var content=forceclose+'<div style="padding:0p; text-align:center;">'+'<div style="font:bold 18px arial; color:#344534;">Congratulations</div>'+'<p style="font:14px/22px arial; color:#344534;margin-bottom:16px;">We just sent you a welcome email at '+
email+'</p><p style="font:13px/22px arial; color:#232323;margin-bottom:16px;">Simply \'reply\' to our message so our newsletters can reach you.<br />'+'Alternatively, add the following email to your contacts (<a href="http://www.businessdictionary.com/addressbook.php" target="_blank">See Instructions</a>):'+'</p>'+'<div style="font:bold 14px/22px arial; color:#232323;margin-bottom:10px">term.of.the.day@businessdictionary.com</div>'+
cpcads+'</div>';var successdays=new Date();successdays.setTime(successdays.getTime()+(30*24*60*60*1000));$.cookie('SuccessSignup','yes',{expires:successdays,path:'/'});jQuery('#termpage-tod-signup').remove();Popup.open({id:'close-popup',content:content,buttons:'',callback:function(popupWindow){if(url=='firsturl')
_gaq.push(['_trackEvent','popup-validation15','cpc shown, split='+split]);else
_gaq.push(['_trackEvent','popup-validation15','cpc shown, 2nd popup, split='+split]);}});}
TryToShowPopup();function extractHost(url){if(String(url).substring(0,7)=='http://'){url=String(url).substr(7,String(url).length-7);}else if(String(url).substring(0,8)=='https://'){url=String(url).substr(8,String(url).length-8);}
return String(url).split('/')[0];}
function inArray(needle,haystack){var length=haystack.length;for(var i=0;i<length;i++){if(haystack[i]==needle)return true;}
return false;};function deletion(subject){results=Array();for(var x=0;x<subject.length;x++){results[results.length]=subject.substr(0,x)+subject.substr(x+1,subject.length);}
return results;}
function transposition(subject){results=Array();for(var x=0;x<subject.length-1;x++){results[results.length]=subject.substr(0,x)+subject[x+1]+subject[x]+subject.substr(x+2,subject.length);}
return results;}
function alteration(subject){var alphabet='abcdefghijklmnopqrstuvwxyz.';results=Array();for(var c=0;c<alphabet.length;c++){for(x=0;x<subject.length;x++){results[results.length]=subject.substr(0,x)+alphabet[c]+subject.substr(x+1,subject.length);}}
return results;}
function insertion(subject){var alphabet='abcdefghijklmnopqrstuvwxyz.';results=Array();for(c=0;c<alphabet.length;c++){for(x=0;x<subject.length+1;x++){results[results.length]=subject.substr(0,x)+alphabet[c]+subject.substr(x,subject.length);}}
return results;}
function permutations(subject){var all_results=deletion(subject).concat(transposition(subject).concat(alteration(subject).concat(insertion(subject))));return(all_results);}
function inArray(needle,haystack){for(var i=0;i<haystack.length;i++){if($.trim(haystack[i])==$.trim(needle))
return true;}
return false;}
function checkExtension(emailDomain){var extensions=Array('ac','ad','ae','af','ag','ai','al','am','an','ao','aq','ar','as','asia','at','au','aw','ax','az','ba','bb','bd','be','bf','bg','bh','bi','bj','bm','bn','bo','br','bs','bt','bv','bw','by','bz','ca','cc','cf','cg','ch','ci','ck','cl','cm','cn','cr','cs','cu','cv','cx','cy','cz','de','dj','dk','dm','do','dz','ec','ee','eg','eh','er','es','et','eu','fi','fj','fk','fm','fo','fr','fx','ga','gb','gd','ge','gf','gh','gi','gl','gm','gn','gp','gq','gr','gs','gt','gu','gw','gy','hk','hm','hn','hr','ht','hu','id','ie','il','in','io','iq','ir','is','it','je','jm','jo','jp','ke','kg','kh','ki','km','kn','kp','kr','kw','ky','kz','la','lb','lc','li','lk','lr','ls','lt','lu','lv','ly','ma','mc','md','mg','mh','mk','ml','mm','mn','mo','mp','mq','mr','ms','mt','mu','mv','mw','mx','my','mz','na','nc','ne','nf','ng','ni','nl','no','np','nr','nt','nu','nz','om','pa','pe','pf','pg','ph','pk','pl','pm','pn','pr','pro','pt','pw','py','qa','re','ro','ru','rw','sa','sb','sc','sd','se','sg','sh','si','sj','sk','sl','sm','sn','so','sr','st','su','sv','sy','sz','tc','td','tf','tg','th','tj','tk','tm','tn','to','tp','tr','tt','tv','tw','tz','ua','ug','uk','um','us','uy','va','vc','ve','vg','vi','vn','vu','wf','ws','ye','yt','yu','za','zm','zr','zw');if($.trim(emailDomain)=='mail.com'){return false;}else if($.trim(emailDomain)=='email.com'){return false;}
else if(emailDomain.indexOf('yahoo.')!=-1||emailDomain.indexOf('hotmail.')!=-1){var extension=emailDomain.split('.');if(inArray(extension[extension.length-1],extensions)){return false;}}
else
return true;}
function spellChecker(email){var email_splits=email.split('@');var username=email_splits[0];var domain=email_splits[1];if(checkExtension(domain)){var perms=permutations(domain);var domains=Array('yahoo.com','gmail.com','hotmail.com','yahoo.co.in','rediffmail.com','ymail.com','aol.com','yahoo.co.uk','live.com','yahoo.in','yahoo.fr','rocketmail.com','comcast.net','msn.com','hotmail.co.uk','sbcglobal.net','verizon.net','yahoo.ca','yahoo.com.ph','mail.ru','yahoo.co.id','att.net');for(var i=0;i<perms.length;i++){if(inArray(perms[i],domains)){return(username+'@'+perms[i]);}}}
return(username+'@'+domain);}